{"version":3,"file":"sheba.service.js","sourceRoot":"","sources":["../../src/sheba.service.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class ShebaService {\r\n\r\n    banks: any = [{\r\n        nickname: 'central-bank',\r\n        name: 'Central Bank of Iran',\r\n        persianName: 'بانک مرکزی جمهوری اسلامی ایران',\r\n        code: '010',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'sanat-o-madan',\r\n        name: 'Sanat O Madan Bank',\r\n        persianName: 'بانک صنعت و معدن',\r\n        code: '011',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'mellat',\r\n        name: 'Mellat Bank',\r\n        persianName: 'بانک ملت',\r\n        code: '012',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'refah',\r\n        name: 'Refah Bank',\r\n        persianName: 'بانک رفاه کارگران',\r\n        code: '013',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'maskan',\r\n        name: 'Maskan Bank',\r\n        persianName: 'بانک مسکن',\r\n        code: '014',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'sepah',\r\n        name: 'Sepah Bank',\r\n        persianName: 'بانک سپه',\r\n        code: '015',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'keshavarzi',\r\n        name: 'Keshavarzi',\r\n        persianName: 'بانک کشاورزی',\r\n        code: '016',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'melli',\r\n        name: 'Melli',\r\n        persianName: 'بانک ملی ایران',\r\n        code: '017',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'tejarat',\r\n        name: 'Tejarat Bank',\r\n        persianName: 'بانک تجارت',\r\n        code: '018',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'saderat',\r\n        name: 'Saderat Bank',\r\n        persianName: 'بانک صادرات ایران',\r\n        code: '019',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'tosee-saderat',\r\n        name: 'Tose Saderat Bank',\r\n        persianName: 'بانک توسعه صادرات',\r\n        code: '020',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'post',\r\n        name: 'Post Bank',\r\n        persianName: 'پست بانک ایران',\r\n        code: '021',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'toose-taavon',\r\n        name: 'Tosee Taavon Bank',\r\n        persianName: 'بانک توسعه تعاون',\r\n        code: '022',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'tosee',\r\n        name: 'Tosee Bank',\r\n        persianName: 'موسسه اعتباری توسعه',\r\n        code: '051',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'ghavamin',\r\n        name: 'Ghavamin Bank',\r\n        persianName: 'بانک قوامین',\r\n        code: '052',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'karafarin',\r\n        name: 'Karafarin Bank',\r\n        persianName: 'بانک کارآفرین',\r\n        code: '053',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'parsian',\r\n        name: 'Parsian Bank',\r\n        persianName: 'بانک پارسیان',\r\n        code: '054',\r\n        accountNumberAvailable: true,\r\n        process: function (str: string) {\r\n          str = str.substring(14);\r\n          var formatted = '0' + str.substr(0, 2) + '-0' + str.substr(2, 7) + '-' + str.substr(9, 3);\r\n          return {\r\n            normal: str,\r\n            formatted: formatted,\r\n          };\r\n        }\r\n      }, {\r\n        nickname: 'eghtesad-novin',\r\n        name: 'Eghtesad Novin Bank',\r\n        persianName: 'بانک اقتصاد نوین',\r\n        code: '055',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'saman',\r\n        name: 'Saman Bank',\r\n        persianName: 'بانک سامان',\r\n        code: '056',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'pasargad',\r\n        name: 'Pasargad Bank',\r\n        persianName: 'بانک پاسارگاد',\r\n        code: '057',\r\n        accountNumberAvailable: true,\r\n        process: function (str: string) {\r\n          str = str.substring(7);\r\n          while (str[0] === '0') {\r\n            str = str.substring(1);\r\n          }\r\n          str = str.substr(0, str.length - 2);\r\n          var formatted = str.substr(0, 3) + '-' + str.substr(3, 3) + '-' + str.substr(6, 8) + '-' + str.substr(14, 1);\r\n          return {\r\n            normal: str,\r\n            formatted: formatted,\r\n          };\r\n        }\r\n      }, {\r\n        nickname: 'sarmayeh',\r\n        name: 'Sarmayeh Bank',\r\n        persianName: 'بانک سرمایه',\r\n        code: '058',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'sina',\r\n        name: 'Sina Bank',\r\n        persianName: 'بانک سینا',\r\n        code: '059',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'mehr-iran',\r\n        name: 'Mehr Iran Bank',\r\n        persianName: 'بانک مهر ایران',\r\n        code: '060',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'shahr',\r\n        name: 'City Bank',\r\n        persianName: 'بانک شهر',\r\n        code: '061',\r\n        accountNumberAvailable: true,\r\n        process: function (str: string) {\r\n          str = str.substring(7);\r\n          while (str[0] === '0') {\r\n            str = str.substring(1);\r\n          }\r\n          return {\r\n            normal: str,\r\n            formatted: str,\r\n          };\r\n        }\r\n      }, {\r\n        nickname: 'ayandeh',\r\n        name: 'Ayandeh Bank',\r\n        persianName: 'بانک آینده',\r\n        code: '062',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'ansar',\r\n        name: 'Ansar Bank',\r\n        persianName: 'بانک انصار',\r\n        code: '063',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'gardeshgari',\r\n        name: 'Gardeshgari Bank',\r\n        persianName: 'بانک گردشگری',\r\n        code: '064',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'hekmat-iranian',\r\n        name: 'Hekmat Iranian Bank',\r\n        persianName: 'بانک حکمت ایرانیان',\r\n        code: '065',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'dey',\r\n        name: 'Dey Bank',\r\n        persianName: 'بانک دی',\r\n        code: '066',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'iran-zamin',\r\n        name: 'Iran Zamin Bank',\r\n        persianName: 'بانک ایران زمین',\r\n        code: '069',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'resalat',\r\n        name: 'Resalat Bank',\r\n        persianName: 'بانک قرض الحسنه رسالت',\r\n        code: '070',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'mehr-iran',\r\n        name: 'Mehr Iran Bank',\r\n        persianName: 'بانک مهر ایران',\r\n        code: '090',\r\n        accountNumberAvailable: false\r\n      }, {\r\n        nickname: 'iran-venezuela',\r\n        name: 'Iran and Venezuela Bank',\r\n        persianName: 'بانک ایران و ونزوئلا',\r\n        code: '095',\r\n        accountNumberAvailable: false\r\n      }];;\r\n    banksHash: any = {};\r\n    banksOutput: any = [];\r\n\r\n    pattern = /IR[0-9]{24}/;\r\n    pattern_code = /IR[0-9]{2}([0-9]{3})[0-9]{19}/;\r\n\r\n    constructor(){      \r\n        for (var i = 0; i < this.banks.length; i++) {\r\n            this.banksHash[this.banks[i].code] = this.banks[i];\r\n          \r\n            this.banksOutput.push({\r\n              nickname: this.banks[i].nickname,\r\n              name: this.banks[i].name,\r\n              persianName: this.banks[i].persianName,\r\n              code: this.banks[i].code,\r\n              accountNumberAvailable: this.banks[i].accountNumberAvailable,\r\n            });\r\n        }\r\n    }\r\n\r\n    iso7064Mod97_10(iban: any) {\r\n        var remainder = iban,\r\n            block;\r\n      \r\n        while (remainder.length > 2){\r\n          block = remainder.slice(0, 9);\r\n          remainder = parseInt(block, 10) % 97 + remainder.slice(block.length);\r\n        }\r\n      \r\n        return parseInt(remainder, 10) % 97;\r\n    }\r\n\r\n    isValid(str: string) {\r\n        if (str.length !== 26) {\r\n            return false;\r\n        }\r\n        \r\n        if (!this.pattern.test(str)) {\r\n            return false;\r\n        }\r\n        \r\n        var newStr = str.substr(4);\r\n        var d1 = str.charCodeAt(0) - 65 + 10;\r\n        var d2 = str.charCodeAt(1) - 65 + 10;\r\n        newStr += d1.toString() + d2.toString() + str.substr(2, 2);\r\n        \r\n        var remainder = this.iso7064Mod97_10(newStr);\r\n        if (remainder !== 1) {\r\n            return false;\r\n        }\r\n        \r\n        return true;\r\n    };\r\n\r\n    recognize(str: string) {\r\n        if (!this.isValid(str)) {\r\n          return false;\r\n        }\r\n      \r\n        var res = this.pattern_code.exec(str);\r\n        var code = \"\";\r\n        if(res !=null){\r\n          code = res[1];\r\n        }\r\n        if (!this.banksHash.hasOwnProperty(code)) {\r\n          return false;\r\n        }\r\n      \r\n        var bank = this.banksHash[code];\r\n        var result = {\r\n          nickname: bank.nickname,\r\n          name: bank.name,\r\n          persianName: bank.persianName,\r\n          code: bank.code,\r\n          accountNumberAvailable: bank.accountNumberAvailable\r\n        } as {\r\n          nickname: string,\r\n          name: string,\r\n          persianName: string,\r\n          code: string,\r\n          accountNumberAvailable: boolean,\r\n          accountNumber?: any,\r\n          formattedAccountNumber?: any\r\n        };\r\n        if (bank.accountNumberAvailable) {\r\n          var data = bank.process(str);\r\n          result.accountNumber = data.normal;\r\n          result.formattedAccountNumber = data.formatted;\r\n        }\r\n        return result;\r\n    };\r\n}"]}