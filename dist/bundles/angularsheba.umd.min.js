!function(a,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@angular/core"],e):e((a.ng=a.ng||{},a.ng.amazing={}),a.ng.core)}(this,function(a,e){"use strict";var n=function(){function a(){this.banks=[{nickname:"central-bank",name:"Central Bank of Iran",persianName:"بانک مرکزی جمهوری اسلامی ایران",code:"010",accountNumberAvailable:!1},{nickname:"sanat-o-madan",name:"Sanat O Madan Bank",persianName:"بانک صنعت و معدن",code:"011",accountNumberAvailable:!1},{nickname:"mellat",name:"Mellat Bank",persianName:"بانک ملت",code:"012",accountNumberAvailable:!1},{nickname:"refah",name:"Refah Bank",persianName:"بانک رفاه کارگران",code:"013",accountNumberAvailable:!1},{nickname:"maskan",name:"Maskan Bank",persianName:"بانک مسکن",code:"014",accountNumberAvailable:!1},{nickname:"sepah",name:"Sepah Bank",persianName:"بانک سپه",code:"015",accountNumberAvailable:!1},{nickname:"keshavarzi",name:"Keshavarzi",persianName:"بانک کشاورزی",code:"016",accountNumberAvailable:!1},{nickname:"melli",name:"Melli",persianName:"بانک ملی ایران",code:"017",accountNumberAvailable:!1},{nickname:"tejarat",name:"Tejarat Bank",persianName:"بانک تجارت",code:"018",accountNumberAvailable:!1},{nickname:"saderat",name:"Saderat Bank",persianName:"بانک صادرات ایران",code:"019",accountNumberAvailable:!1},{nickname:"tosee-saderat",name:"Tose Saderat Bank",persianName:"بانک توسعه صادرات",code:"020",accountNumberAvailable:!1},{nickname:"post",name:"Post Bank",persianName:"پست بانک ایران",code:"021",accountNumberAvailable:!1},{nickname:"toose-taavon",name:"Tosee Taavon Bank",persianName:"بانک توسعه تعاون",code:"022",accountNumberAvailable:!1},{nickname:"tosee",name:"Tosee Bank",persianName:"موسسه اعتباری توسعه",code:"051",accountNumberAvailable:!1},{nickname:"ghavamin",name:"Ghavamin Bank",persianName:"بانک قوامین",code:"052",accountNumberAvailable:!1},{nickname:"karafarin",name:"Karafarin Bank",persianName:"بانک کارآفرین",code:"053",accountNumberAvailable:!1},{nickname:"parsian",name:"Parsian Bank",persianName:"بانک پارسیان",code:"054",accountNumberAvailable:!0,process:function(a){var e="0"+(a=a.substring(14)).substr(0,2)+"-0"+a.substr(2,7)+"-"+a.substr(9,3);return{normal:a,formatted:e}}},{nickname:"eghtesad-novin",name:"Eghtesad Novin Bank",persianName:"بانک اقتصاد نوین",code:"055",accountNumberAvailable:!1},{nickname:"saman",name:"Saman Bank",persianName:"بانک سامان",code:"056",accountNumberAvailable:!1},{nickname:"pasargad",name:"Pasargad Bank",persianName:"بانک پاسارگاد",code:"057",accountNumberAvailable:!0,process:function(a){for(a=a.substring(7);"0"===a[0];)a=a.substring(1);var e=(a=a.substr(0,a.length-2)).substr(0,3)+"-"+a.substr(3,3)+"-"+a.substr(6,8)+"-"+a.substr(14,1);return{normal:a,formatted:e}}},{nickname:"sarmayeh",name:"Sarmayeh Bank",persianName:"بانک سرمایه",code:"058",accountNumberAvailable:!1},{nickname:"sina",name:"Sina Bank",persianName:"بانک سینا",code:"059",accountNumberAvailable:!1},{nickname:"mehr-iran",name:"Mehr Iran Bank",persianName:"بانک مهر ایران",code:"060",accountNumberAvailable:!1},{nickname:"shahr",name:"City Bank",persianName:"بانک شهر",code:"061",accountNumberAvailable:!0,process:function(a){for(a=a.substring(7);"0"===a[0];)a=a.substring(1);return{normal:a,formatted:a}}},{nickname:"ayandeh",name:"Ayandeh Bank",persianName:"بانک آینده",code:"062",accountNumberAvailable:!1},{nickname:"ansar",name:"Ansar Bank",persianName:"بانک انصار",code:"063",accountNumberAvailable:!1},{nickname:"gardeshgari",name:"Gardeshgari Bank",persianName:"بانک گردشگری",code:"064",accountNumberAvailable:!1},{nickname:"hekmat-iranian",name:"Hekmat Iranian Bank",persianName:"بانک حکمت ایرانیان",code:"065",accountNumberAvailable:!1},{nickname:"dey",name:"Dey Bank",persianName:"بانک دی",code:"066",accountNumberAvailable:!1},{nickname:"iran-zamin",name:"Iran Zamin Bank",persianName:"بانک ایران زمین",code:"069",accountNumberAvailable:!1},{nickname:"resalat",name:"Resalat Bank",persianName:"بانک قرض الحسنه رسالت",code:"070",accountNumberAvailable:!1},{nickname:"mehr-iran",name:"Mehr Iran Bank",persianName:"بانک مهر ایران",code:"090",accountNumberAvailable:!1},{nickname:"iran-venezuela",name:"Iran and Venezuela Bank",persianName:"بانک ایران و ونزوئلا",code:"095",accountNumberAvailable:!1}],this.banksHash={},this.banksOutput=[],this.pattern=/IR[0-9]{24}/,this.pattern_code=/IR[0-9]{2}([0-9]{3})[0-9]{19}/;for(var a=0;a<this.banks.length;a++)this.banksHash[this.banks[a].code.toString()]=this.banks[a],this.banksOutput.push({nickname:this.banks[a].nickname,name:this.banks[a].name,persianName:this.banks[a].persianName,code:this.banks[a].code,accountNumberAvailable:this.banks[a].accountNumberAvailable})}return a.prototype.iso7064Mod97_10=function(a){for(var e,n=a;2<n.length;)e=n.slice(0,9),n=parseInt(e,10)%97+n.slice(e.length);return parseInt(n,10)%97},a.prototype.isValid=function(a){if(26!==a.length)return!1;if(!this.pattern.test(a))return!1;var e=a.substr(4),n=a.charCodeAt(0)-65+10,r=a.charCodeAt(1)-65+10;return e+=n.toString()+r.toString()+a.substr(2,2),1===this.iso7064Mod97_10(e)},a.prototype.recognize=function(a){if(!this.isValid(a))return!1;var e=this.pattern_code.exec(a),n="";if(null!=e&&(n=e[1]),!this.banksHash.hasOwnProperty(n))return!1;var r=this.banksHash[n],i={nickname:r.nickname,name:r.name,persianName:r.persianName,code:r.code,accountNumberAvailable:r.accountNumberAvailable};if(r.accountNumberAvailable){var t=r.process(a);i.accountNumber=t.normal,i.formattedAccountNumber=t.formatted}return i},a.decorators=[{type:e.Injectable}],a.ctorParameters=function(){return[]},a}(),r=function(){function a(){}return a.decorators=[{type:e.NgModule,args:[{providers:[n]}]}],a}();a.ShebaModule=r,a.ShebaService=n,Object.defineProperty(a,"__esModule",{value:!0})});